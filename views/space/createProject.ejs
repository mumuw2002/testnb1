<head>
  <link rel="stylesheet" href="../../public/css/spaceCss/spaceCreate.css">
  <style>
    .projectCover {
      position: relative;
      height: 25vh;
      box-shadow: 0 3px 10px -5px rgba(9, 30, 66, 0.25);
    }
    .projectCover:hover,
    .projectCover:hover .cover-image,
    .projectCover .upload-icon:hover .cover-image{
      height: 30vh;
      transition: 0.3s ease-in-out;
      box-shadow: 0 3px 10px -5px rgba(9, 30, 66, 0.28);
    }
    .projectCover:not(:hover),
    .projectCover:not(:hover) .cover-image,
    .projectCover .upload-icon:not(:hover) .cover-image{
      height: 25vh;
      transition: 0.3s ease-in-out;
    }
    .cover-image {
      width: 100%;
      height: 25vh;
      object-fit: cover;
    }
    .upload-icon {
      position: absolute;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 50px;
      height: 50px;
      bottom: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.5);
      color: white;
      padding: 5px;
      border-radius: 50%;
      cursor: pointer;
    }

    #projectDetail,
    .form-control {
        height: 40px;
        border: 1.5px solid #8590a2;
        border-radius: 5px;
        padding: 5px 20px;
        resize: none;
    }

    #projectDetail::placeholder,
    .form-control::placeholder,
    #dueDate::placeholder {
        font-weight: 300;
        font-size: 14px;
        opacity: 0.7;
    }
    #projectDetail::placeholder{
      padding-top: 2px;
    }
    
    #projectDetail:focus-visible,
    .form-control:focus-visible{
      outline: #5C54E5 auto 1px;
      box-shadow: none;
    }

    .disabled-opacity {
      opacity: 0.5;
  }
  </style>

  <!-- Flatpickr CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <!-- Flatpickr JS -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <!-- Thai Language Plugin -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/th.js"></script>
</head>

<%- include('../partials/topNavigation.ejs') %>

  <div class="wrapper">
    <form action="/createProject" method="POST" class="form" id="form-input" enctype="multipart/form-data"
      onsubmit="return prepareFormData()">
      <div class="projectCover">
          <img id="coverPreview" src="/public/projectCover/defultBackground.jpg" alt="Default Cover" class="cover-image">
          <label for="projectCover">
            <div class="upload-icon">
              <i class="fas fa-upload"></i>
            </div>
          </label>
        <input type="file" name="projectCover" id="projectCover" style="display: none;" accept="image/*">
      </div>

      <div class="formWrap">
        <div class="formcenter">
          <h1 class="top-form"><i class="fa-solid fa-square-plus"></i> สร้างโปรเจกต์ใหม่</h1>
          <p class="sub-form">
            เริ่มต้นการทำงานอย่างมีประสิทธิภาพ สร้างโปรเจกต์ใหม่เพื่อจัดการทุกสิ่งได้อย่างราบรื่น ไม่ว่าจะเป็นงานส่วนตัวหรืองานกลุ่ม 
            <br> ก็สามารถกำหนดเป้าหมาย ติดตามความคืบหน้า และทำงานร่วมกันได้อย่างลงตัว
          </p>

          <div class="input" style="margin-top: 20px;">
            <label for="projectName">ชื่อโปรเจกต์ <span style="color: red;">*</span></label>
            <input type="text" class="form-control" name="projectName" id="projectName" placeholder="เพิ่มชื่อโปรเจกต์ของคุณ"
              required>
          </div>

          <div class="input" id="detailInput">
            <label for="projectDetail">
                รายละเอียดเพิ่มเติม <span style="opacity: 0.7; color: gray; font-weight: 300;">(ทางเลือก)</span>
            </label>
            <textarea id="projectDetail" name="projectDetail" rows="4" cols="50" placeholder="กรอกรายละเอียดโปรเจกต์เพิ่มเติม"></textarea>
          </div>

          <div class="input" id="assignMember">
            <h1 id="assignMemberText">เพิ่มสมาชิกเข้าร่วมโปรเจกต์ของคุณ</h1>
            <div class="dropdown memberSelect search-member">
              <input
                type="text"
                id="searchMemberInput"
                placeholder="เชิญโดยใช้ชื่อผู้ใช้ ID หรืออีเมล"
              />
              <ul class="dropdown-menu" id="searchResultsDropdown" style="display: none;"></ul>
              <div id="selectedMembers" class="selected-members"></div>
            </div>
          </div>
          <input type="hidden" id="members" name="members" />
          
          <div class="input" id="dueDateInput">
            <div class="dateLabel">
              <input type="checkbox" id="enableDueDate">
              <label for="dueDate" class="dateLa">วันครบกำหนด</label>
            </div>
            <input 
                    type="text" 
                    class="form-control" 
                    name="dueDate" 
                    id="dueDate" 
                    placeholder="เลือกวันที่" 
                    disabled>
            <div class="dateCount">ระยะเวลาในการทำโปรเจกต์อยู่ที่ : </div>
          </div>

          <div class="all-btn">
            <a href="/space" id="backBtn" class="btn">ยกเลิก</a>
            <button type="submit" class="btn" id="addBtn">สร้าง</button>
          </div>
        </div>
      </div>
    </form>
  </div>
<script src="../spaceScipt/createProject.js"></script>
  
  